<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Projects - Save the Environment</title>
    <link rel="stylesheet" href="assets/style.css">
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
</head>
<body>
    <header>
        <h1>Our Projects</h1>
        <nav>
            <a href="index.html">Home</a>
            <a href="about.html">About Us</a>
            <a href="projects.html">Projects</a>
            <a href="articles.html">Articles</a>
            <a href="get-involved.html">Get Involved</a>
            <a href="contact.html">Contact</a>
        </nav>
    </header>
    <main>
        <section style="margin-bottom:2em;">
            <h2>Why Our Projects Matter</h2>
            <p style="font-size:1.2em;color:#388e3c;">Our projects bring our mission to life. From planting trees to ensuring access to clean water, each initiative is designed to improve the environment and the lives of people in our community.</p>
        </section>
        <section>
            <h2>Project Categories</h2>
            <ul style="list-style:none;padding:0;">
                <li><span style="font-size:1.3em;">üíß</span> <strong>Clean Water & Sanitation (SDG 6)</strong></li>
                <li><span style="font-size:1.3em;">‚ôªÔ∏è</span> <strong>Waste Management & Recycling (SDG 12)</strong></li>
                <li><span style="font-size:1.3em;">üåç</span> <strong>Climate Action & Tree Planting (SDG 13)</strong></li>
                <li><span style="font-size:1.3em;">üè•üå±</span> <strong>Community Health & Living Conditions (SDG 3, SDG 15)</strong></li>
            </ul>
        </section>
        <section>
            <h2>Featured Projects</h2>
            <div id="projects-list"><p>Loading projects...</p></div>
        </section>
        <!-- Extras: Project Map, Volunteer Spotlight, Impact Counter can be added here -->
    </main>
    <footer>
        <p>&copy; 2025 Save the Environment Initiative</p>
    </footer>
<script>
    var firebaseConfig = {
        apiKey: "AIzaSyCeTfoIIWlPkn68sZe-0m8oHUgxLgIiyRA",
        authDomain: "save-the-environment-49649.firebaseapp.com",
        projectId: "save-the-environment-49649",
        storageBucket: "save-the-environment-49649.firebasestorage.app",
        messagingSenderId: "724730117051",
        appId: "1:724730117051:web:4bec6010aedccec0a5e29e",
        measurementId: "G-S4ZSM54DY1"
    };
    if (!firebase.apps.length) {
        firebase.initializeApp(firebaseConfig);
    }
    var db = firebase.firestore();
    function renderProjects(docs) {
        var projectsDiv = document.getElementById('projects-list');
        if (!docs.length) {
            projectsDiv.innerHTML = '<p>No projects yet.</p>';
            return;
        }
        let html = '';
        docs.forEach(function(doc) {
            var data = doc.data();
            html += `<div class="project-card" style="border:1px solid #e0e0e0;padding:1em;margin-bottom:1em;border-radius:8px;">
                <a href="project.html?id=${doc.id}" style="text-decoration:none;color:inherit;">
                    <h3>${data.category.includes('Tree') ? 'üå≥' : data.category.includes('Water') ? 'üíß' : data.category.includes('Waste') ? '‚ôªÔ∏è' : 'üè•üå±'} ${data.title}</h3>
                    <div style="font-size:1.1em;margin-bottom:1em;color:#388e3c;"><strong>${data.category}</strong></div>
                    <p><strong>Goal:</strong> ${data.goal}</p>
                    <p><strong>Activities:</strong> ${data.activities}</p>
                    <p><strong>Target Group:</strong> ${data.target}</p>
                    <p><strong>Impact Metrics:</strong> ${data.impact}</p>
                    <p><strong>Status:</strong> ${data.status}</p>
                </a>
            </div>`;
        });
        projectsDiv.innerHTML = html;
    }
    db.collection('projects').orderBy('created', 'desc').get().then(function(querySnapshot) {
        renderProjects(querySnapshot.docs);
    }).catch(function(err) {
        document.getElementById('projects-list').innerHTML = `<p style='color:red;'>Error loading projects: ${err.message}</p>`;
    });
</script>
</body>
</html>
